<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MAMEUIx - Modern MAME Frontend</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            /* Modern Theme Colors (matching your Modern theme) */
            --bg-primary: #0a0a0a;
            --bg-secondary: #161616;
            --bg-tertiary: #1e1e1e;
            --bg-hover: #252525;
            --border-color: #333;
            --text-primary: #f0f0fa;
            --text-secondary: #a0a0a0;
            --accent-primary: #4c8bf5;
            --accent-hover: #3d7ae5;
            --accent-secondary: #64b5f6;
            --success: #4caf50;
            --warning: #ff9800;
            --error: #f44336;
            --favorite-star: #ffd700;
            
            /* Responsive sizing */
            --base-font-size: 14px;
            --spacing-xs: 4px;
            --spacing-sm: 8px;
            --spacing-md: 16px;
            --spacing-lg: 24px;
            --sidebar-width: 280px;
            --info-panel-width: 350px;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            font-size: var(--base-font-size);
            overflow: hidden;
            line-height: 1.5;
        }

        .app-container {
            display: flex;
            flex-direction: column;
            height: 100vh;
        }

        /* Menu Bar */
        .menu-bar {
            height: 30px;
            background: var(--bg-tertiary);
            border-bottom: 1px solid var(--border-color);
            display: flex;
            align-items: center;
            padding: 0 var(--spacing-md);
            gap: var(--spacing-md);
            user-select: none;
        }

        .menu-item {
            color: var(--text-secondary);
            cursor: pointer;
            padding: 4px 8px;
            border-radius: 4px;
            transition: all 0.2s;
            font-size: 13px;
            position: relative;
        }

        .menu-item:hover {
            background: var(--bg-hover);
            color: var(--text-primary);
        }

        .menu-dropdown {
            position: absolute;
            top: 100%;
            left: 0;
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 6px;
            min-width: 220px;
            padding: 4px 0;
            margin-top: 4px;
            display: none;
            z-index: 1000;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.5);
        }

        .menu-item:hover .menu-dropdown {
            display: block;
        }

        .menu-dropdown-item {
            padding: 8px 16px;
            cursor: pointer;
            transition: all 0.2s;
            font-size: 13px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .menu-dropdown-item:hover {
            background: var(--bg-hover);
            color: var(--accent-primary);
        }

        .menu-separator {
            height: 1px;
            background: var(--border-color);
            margin: 4px 0;
        }

        /* Toolbar */
        .toolbar {
            height: 40px;
            background: var(--bg-secondary);
            border-bottom: 1px solid var(--border-color);
            display: flex;
            align-items: center;
            padding: 0 var(--spacing-md);
            gap: var(--spacing-md);
        }

        .toolbar-group {
            display: flex;
            align-items: center;
            gap: var(--spacing-sm);
        }

        .toolbar-button {
            padding: 6px 12px;
            background: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            border-radius: 4px;
            color: var(--text-primary);
            cursor: pointer;
            transition: all 0.2s;
            font-size: 13px;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .toolbar-button:hover {
            background: var(--bg-hover);
            border-color: var(--accent-primary);
        }

        .toolbar-button.primary {
            background: var(--accent-primary);
            border-color: var(--accent-primary);
            color: white;
        }

        .toolbar-button.primary:hover {
            background: var(--accent-hover);
        }

        .view-toggle {
            display: flex;
            background: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            border-radius: 4px;
            overflow: hidden;
        }

        .view-button {
            padding: 6px 12px;
            background: transparent;
            border: none;
            color: var(--text-secondary);
            cursor: pointer;
            transition: all 0.2s;
            font-size: 13px;
        }

        .view-button:not(:last-child) {
            border-right: 1px solid var(--border-color);
        }

        .view-button.active {
            background: var(--accent-primary);
            color: white;
        }

        /* Main Content */
        .main-content {
            flex: 1;
            display: flex;
            overflow: hidden;
        }

        /* Sidebar */
        .sidebar {
            width: var(--sidebar-width);
            background: var(--bg-secondary);
            border-right: 1px solid var(--border-color);
            display: flex;
            flex-direction: column;
            padding: var(--spacing-md);
            gap: var(--spacing-md);
            overflow-y: auto;
        }

        .search-container {
            background: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            border-radius: 6px;
            padding: var(--spacing-sm);
        }

        .search-box {
            width: 100%;
            padding: 8px 12px;
            background: var(--bg-primary);
            border: 1px solid var(--border-color);
            border-radius: 4px;
            color: var(--text-primary);
            font-size: 14px;
            margin-bottom: var(--spacing-sm);
        }

        .search-box:focus {
            outline: none;
            border-color: var(--accent-primary);
            box-shadow: 0 0 0 2px rgba(76, 139, 245, 0.2);
        }

        .search-mode {
            font-size: 12px;
            color: var(--text-secondary);
            margin-bottom: 4px;
        }

        .search-mode-select {
            width: 100%;
            padding: 6px;
            background: var(--bg-primary);
            border: 1px solid var(--border-color);
            border-radius: 4px;
            color: var(--text-primary);
            font-size: 13px;
            cursor: pointer;
        }

        .filter-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 8px;
            background: var(--bg-tertiary);
            border-radius: 4px;
            margin-bottom: var(--spacing-sm);
        }

        .filter-header-title {
            font-size: 16px;
            font-weight: 600;
            color: var(--accent-primary);
        }

        .filter-actions {
            display: flex;
            gap: var(--spacing-sm);
        }

        .filter-action-button {
            padding: 4px 8px;
            background: var(--bg-hover);
            border: 1px solid var(--border-color);
            border-radius: 3px;
            color: var(--text-secondary);
            cursor: pointer;
            font-size: 12px;
            transition: all 0.2s;
        }

        .filter-action-button:hover {
            background: var(--accent-primary);
            color: white;
            border-color: var(--accent-primary);
        }

        .filter-section {
            background: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            border-radius: 6px;
            padding: var(--spacing-sm);
            margin-bottom: var(--spacing-sm);
        }

        .filter-section-title {
            font-size: 13px;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: var(--spacing-sm);
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .filter-option {
            display: flex;
            align-items: center;
            padding: 4px;
            margin-bottom: 4px;
            border-radius: 3px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .filter-option:hover {
            background: var(--bg-hover);
        }

        .checkbox {
            width: 16px;
            height: 16px;
            border: 2px solid var(--border-color);
            border-radius: 3px;
            margin-right: 8px;
            position: relative;
            transition: all 0.2s;
        }

        .checkbox.checked {
            background: var(--accent-primary);
            border-color: var(--accent-primary);
        }

        .checkbox.checked::after {
            content: '✓';
            position: absolute;
            top: -2px;
            left: 2px;
            color: white;
            font-size: 12px;
        }

        .filter-dropdown {
            width: 100%;
            padding: 6px 8px;
            background: var(--bg-primary);
            border: 1px solid var(--border-color);
            border-radius: 4px;
            color: var(--text-primary);
            font-size: 13px;
            cursor: pointer;
            margin-top: 4px;
        }

        /* Game Area */
        .game-area {
            flex: 1;
            display: flex;
            flex-direction: column;
            background: var(--bg-primary);
            min-width: 0;
        }

        /* Table View */
        .game-table-container {
            flex: 1;
            overflow: auto;
            background: var(--bg-primary);
        }

        .game-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 13px;
        }

        .game-table th {
            background: var(--bg-tertiary);
            color: var(--text-primary);
            font-weight: 600;
            text-align: left;
            padding: 8px;
            border-bottom: 2px solid var(--border-color);
            position: sticky;
            top: 0;
            z-index: 10;
            user-select: none;
        }

        .game-table th.sortable {
            cursor: pointer;
        }

        .game-table th.sortable:hover {
            background: var(--bg-hover);
        }

        .game-table td {
            padding: 6px 8px;
            border-bottom: 1px solid rgba(51, 51, 51, 0.3);
            color: var(--text-primary);
        }

        .game-table tr:hover {
            background: var(--bg-hover);
        }

        .game-table tr.selected {
            background: rgba(76, 139, 245, 0.2);
        }

        .game-table tr.clone {
            font-size: 12px;
            color: var(--text-secondary);
        }

        .expand-arrow {
            cursor: pointer;
            user-select: none;
            color: var(--text-secondary);
            width: 20px;
            display: inline-block;
            text-align: center;
        }

        .favorite-star {
            cursor: pointer;
            user-select: none;
            font-size: 16px;
            color: var(--text-secondary);
            transition: all 0.2s;
        }

        .favorite-star.checked {
            color: var(--favorite-star);
        }

        .favorite-star:hover {
            color: var(--favorite-star);
            transform: scale(1.2);
        }

        .game-icon {
            width: 32px;
            height: 24px;
            background: var(--bg-tertiary);
            border-radius: 3px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-secondary);
            font-size: 16px;
        }

        .status-indicator {
            font-size: 14px;
        }

        .status-working { color: var(--success); }
        .status-imperfect { color: var(--warning); }
        .status-preliminary { color: var(--error); }

        .driver-status {
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .driver-good { color: var(--success); }
        .driver-imperfect { color: var(--warning); }
        .driver-preliminary { color: var(--error); }

        /* List View */
        .game-list-container {
            flex: 1;
            overflow-y: auto;
            padding: var(--spacing-md);
            display: none;
        }

        .game-list-item {
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: var(--spacing-md);
            margin-bottom: var(--spacing-sm);
            display: flex;
            align-items: center;
            gap: var(--spacing-md);
            cursor: pointer;
            transition: all 0.2s;
        }

        .game-list-item:hover {
            background: var(--bg-hover);
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        }

        .game-list-item.selected {
            border-color: var(--accent-primary);
            box-shadow: 0 0 0 2px rgba(76, 139, 245, 0.2);
        }

        .game-list-preview {
            width: 120px;
            height: 90px;
            background: var(--bg-tertiary);
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 40px;
            color: var(--text-secondary);
        }

        .game-list-info {
            flex: 1;
        }

        .game-list-title {
            font-size: 16px;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 4px;
        }

        .game-list-details {
            font-size: 13px;
            color: var(--text-secondary);
            display: flex;
            gap: var(--spacing-md);
            margin-bottom: 8px;
        }

        .game-list-badges {
            display: flex;
            gap: var(--spacing-sm);
        }

        .badge {
            padding: 2px 8px;
            background: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            font-size: 11px;
            color: var(--text-secondary);
        }

        .badge.working { 
            background: rgba(76, 175, 80, 0.2); 
            border-color: var(--success);
            color: var(--success);
        }

        /* Info Panel */
        .info-panel {
            width: var(--info-panel-width);
            background: var(--bg-secondary);
            border-left: 1px solid var(--border-color);
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .info-tabs {
            display: flex;
            background: var(--bg-tertiary);
            border-bottom: 1px solid var(--border-color);
        }

        .info-tab {
            flex: 1;
            padding: 10px;
            text-align: center;
            cursor: pointer;
            font-size: 13px;
            color: var(--text-secondary);
            border-bottom: 2px solid transparent;
            transition: all 0.2s;
        }

        .info-tab:hover {
            color: var(--text-primary);
            background: var(--bg-hover);
        }

        .info-tab.active {
            color: var(--accent-primary);
            border-bottom-color: var(--accent-primary);
        }

        .info-content {
            flex: 1;
            overflow-y: auto;
            padding: var(--spacing-md);
        }

        .artwork-container {
            width: 100%;
            aspect-ratio: 4/3;
            background: var(--bg-tertiary);
            border-radius: 8px;
            margin-bottom: var(--spacing-md);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-secondary);
            font-size: 48px;
        }

        .artwork-type-selector {
            display: flex;
            gap: var(--spacing-xs);
            margin-bottom: var(--spacing-md);
            flex-wrap: wrap;
        }

        .artwork-type-button {
            padding: 4px 12px;
            background: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            border-radius: 4px;
            color: var(--text-secondary);
            cursor: pointer;
            font-size: 12px;
            transition: all 0.2s;
        }

        .artwork-type-button:hover {
            background: var(--bg-hover);
            color: var(--text-primary);
        }

        .artwork-type-button.active {
            background: var(--accent-primary);
            color: white;
            border-color: var(--accent-primary);
        }

        .history-content {
            background: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            border-radius: 6px;
            padding: var(--spacing-md);
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 13px;
            line-height: 1.6;
            color: var(--text-primary);
            white-space: pre-wrap;
        }

        /* Status Bar */
        .status-bar {
            height: 28px;
            background: var(--bg-tertiary);
            border-top: 1px solid var(--border-color);
            display: flex;
            align-items: center;
            padding: 0 var(--spacing-md);
            font-size: 12px;
            color: var(--text-secondary);
            justify-content: space-between;
        }

        .status-left {
            display: flex;
            gap: var(--spacing-lg);
        }

        .status-item {
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .status-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: var(--success);
        }

        .fps-counter {
            color: var(--success);
            font-weight: 600;
        }

        /* Dialogs */
        .dialog-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(4px);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 2000;
        }

        .dialog {
            background: var(--bg-secondary);
            border-radius: 8px;
            border: 1px solid var(--border-color);
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
            max-width: 90vw;
            max-height: 90vh;
            display: flex;
            flex-direction: column;
        }

        .dialog-header {
            padding: var(--spacing-md);
            background: var(--bg-tertiary);
            border-bottom: 1px solid var(--border-color);
            border-radius: 8px 8px 0 0;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .dialog-title {
            font-size: 18px;
            font-weight: 600;
            color: var(--text-primary);
        }

        .dialog-close {
            width: 32px;
            height: 32px;
            border: none;
            background: transparent;
            color: var(--text-secondary);
            cursor: pointer;
            border-radius: 4px;
            font-size: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
        }

        .dialog-close:hover {
            background: var(--error);
            color: white;
        }

        .dialog-content {
            flex: 1;
            overflow-y: auto;
            padding: var(--spacing-lg);
        }

        .dialog-footer {
            padding: var(--spacing-md);
            background: var(--bg-tertiary);
            border-top: 1px solid var(--border-color);
            border-radius: 0 0 8px 8px;
            display: flex;
            justify-content: flex-end;
            gap: var(--spacing-sm);
        }

        .button {
            padding: 8px 16px;
            border: none;
            border-radius: 4px;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .button-primary {
            background: var(--accent-primary);
            color: white;
        }

        .button-primary:hover {
            background: var(--accent-hover);
        }

        .button-secondary {
            background: var(--bg-hover);
            color: var(--text-primary);
            border: 1px solid var(--border-color);
        }

        .button-secondary:hover {
            background: var(--bg-tertiary);
        }

        /* Context Menu */
        .context-menu {
            position: fixed;
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 6px;
            padding: 4px 0;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.5);
            display: none;
            z-index: 1500;
            min-width: 180px;
        }

        .context-menu-item {
            padding: 8px 16px;
            cursor: pointer;
            font-size: 13px;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: all 0.2s;
        }

        .context-menu-item:hover {
            background: var(--bg-hover);
            color: var(--accent-primary);
        }

        /* Loading Overlay */
        .loading-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(10, 10, 10, 0.9);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 100;
        }

        .loading-spinner {
            width: 48px;
            height: 48px;
            border: 3px solid var(--border-color);
            border-top-color: var(--accent-primary);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-bottom: var(--spacing-md);
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .loading-text {
            font-size: 16px;
            color: var(--text-primary);
            margin-bottom: var(--spacing-sm);
        }

        .loading-subtext {
            font-size: 14px;
            color: var(--text-secondary);
        }

        /* Performance Stats */
        .performance-stats {
            background: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            border-radius: 6px;
            padding: var(--spacing-sm);
            font-size: 12px;
            margin-top: var(--spacing-md);
        }

        .performance-stat {
            display: flex;
            justify-content: space-between;
            margin-bottom: 4px;
            color: var(--text-secondary);
        }

        .performance-stat-value {
            color: var(--text-primary);
            font-weight: 600;
        }

        /* Scrollbar Styling */
        ::-webkit-scrollbar {
            width: 10px;
            height: 10px;
        }

        ::-webkit-scrollbar-track {
            background: var(--bg-primary);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--bg-hover);
            border-radius: 5px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--border-color);
        }

        /* Responsive */
        @media (max-width: 1200px) {
            .info-panel {
                display: none;
            }
        }

        @media (max-width: 768px) {
            .sidebar {
                position: absolute;
                left: -100%;
                z-index: 100;
                height: 100%;
                transition: left 0.3s;
            }
            
            .sidebar.open {
                left: 0;
            }
        }
    </style>
</head>
<body>
    <div class="app-container">
        <!-- Menu Bar -->
        <div class="menu-bar">
            <div class="menu-item">
                File
                <div class="menu-dropdown">
                    <div class="menu-dropdown-item" onclick="showMameManager()">
                        🎮 MAME Manager
                    </div>
                    <div class="menu-dropdown-item" onclick="showRomVerify()">
                        🔍 Verify ROMs...
                    </div>
                    <div class="menu-separator"></div>
                    <div class="menu-dropdown-item">Exit</div>
                </div>
            </div>
            <div class="menu-item">
                Game
                <div class="menu-dropdown">
                    <div class="menu-dropdown-item">🎮 Play</div>
                    <div class="menu-dropdown-item" onclick="showRomInfo()">ℹ ROM Info...</div>
                </div>
            </div>
            <div class="menu-item">
                Options
                <div class="menu-dropdown">
                    <div class="menu-dropdown-item" onclick="showDirectories()">Directories</div>
                    <div class="menu-dropdown-item" onclick="showPreferences()">Preferences</div>
                    <div class="menu-separator"></div>
                    <div class="menu-dropdown-item" onclick="showGameProperties()">⚙️ Default Game Properties...</div>
                    <div class="menu-dropdown-item">🔍 Find MAME Executables</div>
                </div>
            </div>
            <div class="menu-item">
                Theme
                <div class="menu-dropdown">
                    <div class="menu-dropdown-item">
                        <input type="radio" name="theme" checked> Modern
                    </div>
                    <div class="menu-dropdown-item">
                        <input type="radio" name="theme"> Dark
                    </div>
                    <div class="menu-dropdown-item">
                        <input type="radio" name="theme"> Grey
                    </div>
                    <div class="menu-dropdown-item">
                        <input type="radio" name="theme"> Purple
                    </div>
                    <div class="menu-dropdown-item">
                        <input type="radio" name="theme"> Light
                    </div>
                    <div class="menu-dropdown-item">
                        <input type="radio" name="theme"> Neon
                    </div>
                    <div class="menu-dropdown-item">
                        <input type="radio" name="theme"> Orange
                    </div>
                    <div class="menu-dropdown-item">
                        <input type="radio" name="theme"> Ocean
                    </div>
                    <div class="menu-dropdown-item">
                        <input type="radio" name="theme"> High Contrast
                    </div>
                    <div class="menu-dropdown-item">
                        <input type="radio" name="theme"> Forest
                    </div>
                    <div class="menu-dropdown-item">
                        <input type="radio" name="theme"> Amber
                    </div>
                </div>
            </div>
            <div class="menu-item">
                Tools
                <div class="menu-dropdown">
                    <div class="menu-dropdown-item">🔍 ROM Verification</div>
                    <div class="menu-dropdown-item">🎯 Verify Selected ROM</div>
                    <div class="menu-dropdown-item">📊 Plugin Support Info</div>
                </div>
            </div>
            <div class="menu-item">
                Help
                <div class="menu-dropdown">
                    <div class="menu-dropdown-item" onclick="showAbout()">About</div>
                </div>
            </div>
        </div>

        <!-- Toolbar -->
        <div class="toolbar">
            <div class="toolbar-group">
                <button class="toolbar-button primary">
                    ▶ Play
                </button>
                <button class="toolbar-button" onclick="showGameProperties()">
                    ℹ Properties
                </button>
            </div>
            
            <div class="toolbar-group">
                <span style="margin-right: 8px; color: var(--text-secondary);">View:</span>
                <div class="view-toggle">
                    <button class="view-button active" onclick="setView('table')">⊞ Table</button>
                    <button class="view-button" onclick="setView('list')">☰ List</button>
                </div>
            </div>
            
            <div class="toolbar-group" style="margin-left: auto;">
                <button class="toolbar-button" onclick="refreshGames()">
                    🔄 Refresh
                </button>
            </div>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Sidebar -->
            <div class="sidebar">
                <div class="search-container">
                    <input type="text" class="search-box" placeholder="Search games...">
                    <div class="search-mode">Search Mode:</div>
                    <select class="search-mode-select">
                        <optgroup label="🔸 Basic Search">
                            <option>🎯 Game Title</option>
                            <option>🏭 Manufacturer</option>
                            <option>📁 ROM File Name</option>
                            <option>📅 Year</option>
                            <option>⚙️ Status</option>
                        </optgroup>
                        <optgroup label="🔧 Hardware">
                            <option>🖥️ CPU</option>
                            <option>🔧 Device</option>
                            <option>🔊 Sound</option>
                        </optgroup>
                        <optgroup label="⚡ Enhanced Search">
                            <option>🔍 Fuzzy Search</option>
                            <option>📄 Full-Text Search</option>
                            <option>🔤 Regex Search</option>
                        </optgroup>
                    </select>
                </div>

                <div class="filter-header">
                    <span class="filter-header-title">⚡ Filters</span>
                    <div class="filter-actions">
                        <button class="filter-action-button">🗑️ Clear All</button>
                        <button class="filter-action-button">✅ Select All</button>
                    </div>
                </div>

                <div class="filter-section">
                    <div class="filter-section-title">
                        <span>📁</span>
                        <span>Availability</span>
                    </div>
                    <div class="filter-option">
                        <div class="checkbox checked"></div>
                        <span>Available</span>
                    </div>
                    <div class="filter-option">
                        <div class="checkbox"></div>
                        <span>Unavailable</span>
                    </div>
                </div>

                <div class="filter-section">
                    <div class="filter-section-title">
                        <span>⚙️</span>
                        <span>Status</span>
                    </div>
                    <div class="filter-option">
                        <div class="checkbox checked"></div>
                        <span>Working</span>
                    </div>
                    <div class="filter-option">
                        <div class="checkbox"></div>
                        <span>Not Working</span>
                    </div>
                </div>

                <div class="filter-section">
                    <div class="filter-section-title">
                        <span>🎮</span>
                        <span>Others</span>
                    </div>
                    <div class="filter-option">
                        <div class="checkbox"></div>
                        <span>Favorites</span>
                    </div>
                    <div class="filter-option">
                        <div class="checkbox"></div>
                        <span>Parents Only</span>
                    </div>
                    <div class="filter-option">
                        <div class="checkbox"></div>
                        <span>CHD Games</span>
                    </div>
                </div>

                <div class="filter-section" id="categoryFilter" style="display: none;">
                    <div class="filter-section-title">
                        <span>📂</span>
                        <span>Category</span>
                    </div>
                    <select class="filter-dropdown">
                        <option>All Categories</option>
                        <option>Fighter</option>
                        <option>Platform</option>
                        <option>Puzzle</option>
                        <option>Shooter</option>
                        <option>Racing</option>
                        <option>Sports</option>
                        <option>Misc.</option>
                    </select>
                    <button class="filter-action-button" style="margin-top: 8px; width: 100%;" onclick="showHiddenCategories()">
                        🔒 Hidden Categories
                    </button>
                </div>

                <div class="performance-stats">
                    <div style="font-weight: 600; margin-bottom: 8px; color: var(--accent-primary);">Performance</div>
                    <div class="performance-stat">
                        <span>FPS:</span>
                        <span class="performance-stat-value">60.0</span>
                    </div>
                    <div class="performance-stat">
                        <span>Games Loaded:</span>
                        <span class="performance-stat-value">46,824</span>
                    </div>
                    <div class="performance-stat">
                        <span>Filtered:</span>
                        <span class="performance-stat-value">1,234</span>
                    </div>
                </div>
            </div>

            <!-- Game Area -->
            <div class="game-area">
                <!-- Table View -->
                <div class="game-table-container" id="tableView">
                    <table class="game-table">
                        <thead>
                            <tr>
                                <th style="width: 30px;"></th>
                                <th style="width: 35px;">★</th>
                                <th style="width: 50px;">Icon</th>
                                <th style="width: 40px;">St</th>
                                <th class="sortable">Game</th>
                                <th class="sortable" style="width: 80px;">Plays</th>
                                <th class="sortable">Manufacturer</th>
                                <th class="sortable" style="width: 80px;">Year</th>
                                <th class="sortable">Driver</th>
                                <th style="width: 150px;">Driver Status</th>
                                <th class="sortable" id="categoryColumn" style="display: none;">Category</th>
                                <th style="width: 100px;">ROM</th>
                                <th style="width: 80px;">CHD</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><span class="expand-arrow">▶</span></td>
                                <td><span class="favorite-star checked">★</span></td>
                                <td><div class="game-icon">🕹️</div></td>
                                <td><span class="status-indicator status-working">✓</span></td>
                                <td>Street Fighter II</td>
                                <td>42</td>
                                <td>Capcom</td>
                                <td>1991</td>
                                <td>cps1</td>
                                <td><span class="driver-status driver-good">✅ Good</span></td>
                                <td class="category-cell" style="display: none;">Fighter</td>
                                <td>sf2.zip</td>
                                <td>-</td>
                            </tr>
                            <tr class="clone" style="display: none;">
                                <td></td>
                                <td><span class="favorite-star">☆</span></td>
                                <td><div class="game-icon">🎮</div></td>
                                <td><span class="status-indicator status-working">✓</span></td>
                                <td style="padding-left: 32px;">└─ Street Fighter II (Champion Edition)</td>
                                <td>15</td>
                                <td>Capcom</td>
                                <td>1992</td>
                                <td>cps1</td>
                                <td><span class="driver-status driver-good">✅ Good</span></td>
                                <td class="category-cell" style="display: none;">Fighter</td>
                                <td>sf2ce.zip</td>
                                <td>-</td>
                            </tr>
                            <tr>
                                <td></td>
                                <td><span class="favorite-star">☆</span></td>
                                <td><div class="game-icon">👾</div></td>
                                <td><span class="status-indicator status-working">✓</span></td>
                                <td>Pac-Man</td>
                                <td>128</td>
                                <td>Namco</td>
                                <td>1980</td>
                                <td>pacman</td>
                                <td><span class="driver-status driver-good">✅ Good</span></td>
                                <td class="category-cell" style="display: none;">Maze</td>
                                <td>pacman.zip</td>
                                <td>-</td>
                            </tr>
                            <tr>
                                <td></td>
                                <td><span class="favorite-star checked">★</span></td>
                                <td><div class="game-icon">🚁</div></td>
                                <td><span class="status-indicator status-imperfect">⚠</span></td>
                                <td>Metal Slug</td>
                                <td>67</td>
                                <td>SNK</td>
                                <td>1996</td>
                                <td>neogeo</td>
                                <td><span class="driver-status driver-imperfect">⚠️ Imperfect</span></td>
                                <td class="category-cell" style="display: none;">Shooter</td>
                                <td>mslug.zip</td>
                                <td>-</td>
                            </tr>
                            <tr>
                                <td></td>
                                <td><span class="favorite-star">☆</span></td>
                                <td><div class="game-icon">🏎️</div></td>
                                <td><span class="status-indicator status-working">✓</span></td>
                                <td>Out Run</td>
                                <td>34</td>
                                <td>Sega</td>
                                <td>1986</td>
                                <td>outrun</td>
                                <td><span class="driver-status driver-good">✅ Good</span></td>
                                <td class="category-cell" style="display: none;">Racing</td>
                                <td>outrun.zip</td>
                                <td>-</td>
                            </tr>
                            <tr>
                                <td><span class="expand-arrow">▶</span></td>
                                <td><span class="favorite-star">☆</span></td>
                                <td><div class="game-icon">🏃</div></td>
                                <td><span class="status-indicator status-working">✓</span></td>
                                <td>Donkey Kong</td>
                                <td>89</td>
                                <td>Nintendo</td>
                                <td>1981</td>
                                <td>dkong</td>
                                <td><span class="driver-status driver-good">✅ Good</span></td>
                                <td class="category-cell" style="display: none;">Platform</td>
                                <td>dkong.zip</td>
                                <td>-</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <!-- List View (Hidden by default) -->
                <div class="game-list-container" id="listView">
                    <div class="game-list-item selected">
                        <div class="game-list-preview">🕹️</div>
                        <div class="game-list-info">
                            <div class="game-list-title">Street Fighter II</div>
                            <div class="game-list-details">
                                <span>Capcom</span>
                                <span>•</span>
                                <span>1991</span>
                                <span>•</span>
                                <span>Fighter</span>
                            </div>
                            <div class="game-list-badges">
                                <span class="badge working">Working</span>
                                <span class="badge">CPS1</span>
                                <span class="badge">2 Players</span>
                            </div>
                        </div>
                        <span class="favorite-star checked" style="font-size: 24px;">★</span>
                    </div>
                    
                    <div class="game-list-item">
                        <div class="game-list-preview">👾</div>
                        <div class="game-list-info">
                            <div class="game-list-title">Pac-Man</div>
                            <div class="game-list-details">
                                <span>Namco</span>
                                <span>•</span>
                                <span>1980</span>
                                <span>•</span>
                                <span>Maze</span>
                            </div>
                            <div class="game-list-badges">
                                <span class="badge working">Working</span>
                                <span class="badge">1 Player</span>
                            </div>
                        </div>
                        <span class="favorite-star" style="font-size: 24px;">☆</span>
                    </div>
                </div>

                <!-- Loading Overlay (Hidden by default) -->
                <div class="loading-overlay" style="display: none;">
                    <div class="loading-spinner"></div>
                    <div class="loading-text">Loading MAME Database</div>
                    <div class="loading-subtext">Scanning MAME for available games...</div>
                    <div class="loading-subtext" style="margin-top: 8px;">This may take 10-30 seconds for 40,000+ games</div>
                </div>
            </div>

            <!-- Info Panel -->
            <div class="info-panel">
                <div class="info-tabs">
                    <div class="info-tab active" onclick="switchInfoTab('artwork')">Artwork</div>
                    <div class="info-tab" onclick="switchInfoTab('history')">History</div>
                </div>
                
                <div class="info-content" id="artworkTab">
                    <div class="artwork-type-selector">
                        <button class="artwork-type-button active">Screenshot</button>
                        <button class="artwork-type-button">Cabinet</button>
                        <button class="artwork-type-button">Marquee</button>
                        <button class="artwork-type-button">Title</button>
                        <button class="artwork-type-button">Flyer</button>
                    </div>
                    
                    <div class="artwork-container">🖼️</div>
                    
                    <div style="background: var(--bg-tertiary); border-radius: 6px; padding: var(--spacing-md);">
                        <div style="font-size: 16px; font-weight: 600; margin-bottom: 8px;">Street Fighter II</div>
                        <div style="font-size: 13px; color: var(--text-secondary); line-height: 1.6;">
                            <div>Year: 1991</div>
                            <div>Manufacturer: Capcom</div>
                            <div>Driver: cps1</div>
                            <div>Status: Working</div>
                        </div>
                    </div>
                </div>
                
                <div class="info-content" id="historyTab" style="display: none;">
                    <div class="info-tabs" style="margin: -16px -16px 16px -16px;">
                        <div class="info-tab active" style="font-size: 12px;">History</div>
                        <div class="info-tab" style="font-size: 12px;">MAME Info</div>
                        <div class="info-tab" style="font-size: 12px;">Other</div>
                    </div>
                    
                    <div class="history-content">
Street Fighter II (1991)

The legendary fighting game that started it all. Choose from 8 world warriors and fight your way to become the ultimate champion.

Features:
- Revolutionary 6-button controls
- Special moves and combos
- Unique characters with different fighting styles
- Global tournament setting

This game defined the fighting game genre and spawned countless sequels and imitators.
                    </div>
                </div>
            </div>
        </div>

        <!-- Status Bar -->
        <div class="status-bar">
            <div class="status-left">
                <div class="status-item">
                    <span>46,824 games (24,567 available)</span>
                </div>
                <div class="status-item">
                    <span>Showing 5 filtered</span>
                </div>
            </div>
            <div class="status-item">
                <button class="toolbar-button" style="padding: 2px 8px; font-size: 12px;">
                    🎮 MAME 0.264
                </button>
            </div>
            <div class="status-item">
                <span>FPS: <span class="fps-counter">60.0</span></span>
            </div>
        </div>
    </div>

    <!-- Context Menu -->
    <div class="context-menu" id="contextMenu">
        <div class="context-menu-item">🎮 Play Game</div>
        <div class="menu-separator"></div>
        <div class="context-menu-item">⚙️ Properties...</div>
        <div class="context-menu-item" id="favoriteMenuItem">⭐ Add to Favorites</div>
    </div>

    <!-- Directories Dialog -->
    <div class="dialog-overlay" id="directoriesDialog">
        <div class="dialog" style="width: 650px;">
            <div class="dialog-header">
                <h2 class="dialog-title">Directories Selection</h2>
                <button class="dialog-close" onclick="closeDialog('directoriesDialog')">×</button>
            </div>
            
            <div class="dialog-content">
                <div style="display: flex; gap: 8px; margin-bottom: 16px;">
                    <button class="tab-button active">MAME Paths</button>
                    <button class="tab-button">MAME Support Files</button>
                    <button class="tab-button">History, INI's and DAT's Files</button>
                    <button class="tab-button">MAME Internal Folders</button>
                </div>
                
                <div class="tab-content">
                    <div style="margin-bottom: 20px;">
                        <h3>MAME Executables</h3>
                        <p style="color: var(--text-secondary); margin-bottom: 8px;">These are the MAME emulator programs that will run your games</p>
                        <div style="background: var(--bg-tertiary); border: 1px solid var(--border-color); border-radius: 4px; padding: 12px;">
                            <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 8px;">
                                <label style="width: 80px;">Name:</label>
                                <input type="text" value="MAME" style="flex: 1; padding: 4px 8px; background: var(--bg-primary); border: 1px solid var(--border-color); border-radius: 3px; color: var(--text-primary);">
                            </div>
                            <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 8px;">
                                <label style="width: 80px;">Path:</label>
                                <input type="text" value="/usr/bin/mame" style="flex: 1; padding: 4px 8px; background: var(--bg-primary); border: 1px solid var(--border-color); border-radius: 3px; color: var(--text-primary);">
                                <button class="button-secondary">Browse...</button>
                                <button class="button-secondary">Validate</button>
                            </div>
                            <div style="color: var(--success);">Version: 0.264 • Games: 46,824 (40,123 working)</div>
                        </div>
                        <button class="button-secondary" style="margin-top: 8px;">➕ Add MAME Executable</button>
                    </div>
                    
                    <div>
                        <h3>ROM Directories</h3>
                        <p style="color: var(--text-secondary); margin-bottom: 8px;">Folders containing your game ROM files</p>
                        <div style="display: flex; gap: 8px; align-items: center; margin-bottom: 8px;">
                            <input type="text" value="/home/user/roms" style="flex: 1; padding: 6px 8px; background: var(--bg-primary); border: 1px solid var(--border-color); border-radius: 3px; color: var(--text-primary);">
                            <span style="color: var(--text-secondary);">(3,845 .zip files)</span>
                            <button class="button-secondary">Browse...</button>
                            <button class="button-secondary">🗑</button>
                        </div>
                        <button class="button-secondary">➕ Add ROM Directory</button>
                    </div>
                </div>
            </div>
            
            <div class="dialog-footer">
                <button class="button-secondary" onclick="closeDialog('directoriesDialog')">Cancel</button>
                <button class="button-primary">OK</button>
            </div>
        </div>
    </div>

    <!-- Preferences Dialog -->
    <div class="dialog-overlay" id="preferencesDialog">
        <div class="dialog" style="width: 600px;">
            <div class="dialog-header">
                <h2 class="dialog-title">Preferences</h2>
                <button class="dialog-close" onclick="closeDialog('preferencesDialog')">×</button>
            </div>
            
            <div class="dialog-content">
                <div style="display: flex; gap: 8px; margin-bottom: 16px;">
                    <button class="tab-button active">General</button>
                    <button class="tab-button">Display</button>
                </div>
                
                <div class="tab-content">
                    <h3>General Settings</h3>
                    <div style="margin-bottom: 12px;">
                        <label style="display: flex; align-items: center; gap: 8px;">
                            <input type="checkbox" checked>
                            Search for new games at startup
                        </label>
                    </div>
                    <div style="margin-bottom: 12px;">
                        <label style="display: flex; align-items: center; gap: 8px;">
                            <input type="checkbox" checked>
                            Enable version mismatch warning
                        </label>
                    </div>
                    <div style="margin-bottom: 12px;">
                        <label style="display: flex; align-items: center; gap: 8px;">
                            <input type="checkbox">
                            Use MAME default options
                        </label>
                    </div>
                    <div style="margin-bottom: 12px;">
                        <label style="display: flex; align-items: center; gap: 8px;">
                            <input type="checkbox">
                            Allow game selection with a joystick
                        </label>
                    </div>
                    <div style="margin-bottom: 12px;">
                        <label style="display: flex; align-items: center; gap: 8px;">
                            <input type="checkbox" checked>
                            Auto-save configuration changes
                        </label>
                    </div>
                    
                    <h3 style="margin-top: 24px;">Visible Columns in Game List</h3>
                    <p style="color: var(--text-secondary); margin-bottom: 8px;">Choose which columns to display:</p>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 8px;">
                        <label><input type="checkbox" checked> Game Name</label>
                        <label><input type="checkbox" checked> Driver</label>
                        <label><input type="checkbox" checked> Play Count</label>
                        <label><input type="checkbox" checked> Driver Status</label>
                        <label><input type="checkbox" checked> Manufacturer</label>
                        <label><input type="checkbox" id="categoryCheckbox"> Category</label>
                        <label><input type="checkbox" checked> Year</label>
                        <label><input type="checkbox" checked> ROM</label>
                        <label><input type="checkbox" checked> CHD</label>
                    </div>
                    
                    <div style="background: rgba(255, 193, 7, 0.1); border: 1px solid var(--warning); border-radius: 4px; padding: 8px; margin-top: 12px;">
                        <span style="color: var(--warning);">ℹ️ Category column requires catver.ini to be configured</span>
                    </div>
                </div>
            </div>
            
            <div class="dialog-footer">
                <button class="button-secondary" onclick="closeDialog('preferencesDialog')">Cancel</button>
                <button class="button-primary" onclick="savePreferences()">OK</button>
            </div>
        </div>
    </div>

    <!-- Game Properties Dialog -->
    <div class="dialog-overlay" id="gamePropertiesDialog">
        <div class="dialog" style="width: 700px; max-height: 80vh;">
            <div class="dialog-header">
                <h2 class="dialog-title">⚙️ Default Game Properties</h2>
                <button class="dialog-close" onclick="closeDialog('gamePropertiesDialog')">×</button>
            </div>
            
            <div class="dialog-content" style="display: flex; gap: 16px;">
                <div style="width: 150px;">
                    <div class="property-tab active">Display</div>
                    <div class="property-tab">Advanced</div>
                    <div class="property-tab">Screen</div>
                    <div class="property-tab">Sound</div>
                    <div class="property-tab">Miscellaneous</div>
                    <div class="property-tab">SDL Drivers</div>
                    <div class="property-tab">OSD/Input</div>
                </div>
                
                <div style="flex: 1; padding: 0 16px;">
                    <h3>Display Options</h3>
                    <div style="margin-bottom: 16px;">
                        <label style="display: block; margin-bottom: 8px;">
                            <input type="checkbox" checked> Run in a window
                        </label>
                        <label style="display: block; margin-bottom: 8px;">
                            <input type="checkbox"> Start out maximized
                        </label>
                        <label style="display: block; margin-bottom: 8px;">
                            <input type="checkbox" checked> Enforce aspect ratio
                        </label>
                        <label style="display: block; margin-bottom: 8px;">
                            <input type="checkbox" checked> Throttle
                        </label>
                    </div>
                    
                    <div style="margin-bottom: 16px;">
                        <label style="display: block; margin-bottom: 4px;">Video Mode:</label>
                        <select style="width: 100%; padding: 6px; background: var(--bg-primary); border: 1px solid var(--border-color); border-radius: 4px; color: var(--text-primary);">
                            <option>Auto</option>
                            <option>OpenGL</option>
                            <option>Direct3D</option>
                            <option>BGFX</option>
                            <option>Software</option>
                        </select>
                    </div>
                    
                    <div style="margin-bottom: 16px;">
                        <label style="display: block; margin-bottom: 4px;">Bitmap prescaling:</label>
                        <input type="number" value="1" min="1" max="8" style="width: 100px; padding: 6px; background: var(--bg-primary); border: 1px solid var(--border-color); border-radius: 4px; color: var(--text-primary);">
                    </div>
                </div>
            </div>
            
            <div class="dialog-footer">
                <button class="button-secondary" onclick="closeDialog('gamePropertiesDialog')">Cancel</button>
                <button class="button-primary">Apply</button>
                <button class="button-primary">OK</button>
            </div>
        </div>
    </div>

    <!-- ROM Verify Dialog -->
    <div class="dialog-overlay" id="romVerifyDialog">
        <div class="dialog" style="width: 900px; height: 600px;">
            <div class="dialog-header">
                <h2 class="dialog-title">🔍 ROM Verification - CLRMamePro Lite</h2>
                <button class="dialog-close" onclick="closeDialog('romVerifyDialog')">×</button>
            </div>
            
            <div class="dialog-content">
                <div style="display: flex; gap: 16px; margin-bottom: 16px;">
                    <button class="button-primary">🔍 Verify All ROMs</button>
                    <button class="button-secondary">✓ Verify Available Only</button>
                    <button class="button-secondary">Clear Results</button>
                    <div style="margin-left: auto; display: flex; gap: 8px; align-items: center;">
                        <label><input type="checkbox"> Show only issues</label>
                        <button class="button-secondary">🌐 Find Missing ROMs (No-Intro)</button>
                        <select style="padding: 6px;">
                            <option>Text</option>
                            <option>CSV</option>
                            <option>HTML</option>
                        </select>
                        <button class="button-secondary">📄 Export Report</button>
                    </div>
                </div>
                
                <div style="background: var(--bg-tertiary); border: 1px solid var(--border-color); border-radius: 6px; padding: 16px; margin-bottom: 16px;">
                    <h3>📊 Verification Statistics</h3>
                    <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 16px; margin-top: 12px;">
                        <div><span style="color: var(--success);">✅ Verified:</span> 0</div>
                        <div><span style="color: var(--error);">❌ Failed:</span> 0</div>
                        <div><span style="color: var(--warning);">⚠️ Warnings:</span> 0</div>
                    </div>
                </div>
                
                <div style="flex: 1; background: var(--bg-tertiary); border: 1px solid var(--border-color); border-radius: 6px; padding: 16px;">
                    <p style="text-align: center; color: var(--text-secondary);">No verification results yet. Click 'Verify All ROMs' to start.</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Hidden Categories Dialog -->
    <div class="dialog-overlay" id="hiddenCategoriesDialog">
        <div class="dialog" style="width: 600px; height: 500px;">
            <div class="dialog-header">
                <h2 class="dialog-title">Hidden Categories</h2>
                <button class="dialog-close" onclick="closeDialog('hiddenCategoriesDialog')">×</button>
            </div>
            
            <div class="dialog-content">
                <p>Select categories to hide from the game list:</p>
                <p style="color: var(--text-secondary); margin-bottom: 16px;">Hidden games will not appear in any filter view.</p>
                
                <div style="display: flex; gap: 8px; margin-bottom: 16px;">
                    <input type="text" placeholder="Search categories..." style="flex: 1; padding: 6px 8px; background: var(--bg-primary); border: 1px solid var(--border-color); border-radius: 4px; color: var(--text-primary);">
                    <button class="button-secondary">Clear</button>
                    <button class="button-secondary">Hide All Casino/Gambling</button>
                    <button class="button-secondary">Hide All Mature</button>
                    <button class="button-secondary">Clear All</button>
                </div>
                
                <div style="background: var(--bg-tertiary); border: 1px solid var(--border-color); border-radius: 6px; padding: 16px; height: 300px; overflow-y: auto;">
                    <div style="margin-bottom: 12px;">
                        <h4 style="color: var(--text-secondary); margin-bottom: 8px;">─── C ───</h4>
                        <label style="display: block; margin-bottom: 4px;">
                            <input type="checkbox"> Casino (342 games)
                        </label>
                        <label style="display: block; margin-bottom: 4px;">
                            <input type="checkbox"> Cards (128 games)
                        </label>
                    </div>
                    <div style="margin-bottom: 12px;">
                        <h4 style="color: var(--text-secondary); margin-bottom: 8px;">─── F ───</h4>
                        <label style="display: block; margin-bottom: 4px;">
                            <input type="checkbox"> Fighter (456 games)
                        </label>
                    </div>
                    <div style="margin-bottom: 12px;">
                        <h4 style="color: var(--text-secondary); margin-bottom: 8px;">─── M ───</h4>
                        <label style="display: block; margin-bottom: 4px;">
                            <input type="checkbox"> Mahjong (891 games)
                        </label>
                        <label style="display: block; margin-bottom: 4px;">
                            <input type="checkbox"> Mature (234 games)
                        </label>
                    </div>
                </div>
                
                <p style="margin-top: 16px; color: var(--text-secondary);">Total hidden games: 0</p>
            </div>
            
            <div class="dialog-footer">
                <button class="button-secondary" onclick="closeDialog('hiddenCategoriesDialog')">Cancel</button>
                <button class="button-primary">OK</button>
            </div>
        </div>
    </div>

    <!-- ROM Info Dialog -->
    <div class="dialog-overlay" id="romInfoDialog">
        <div class="dialog" style="width: 350px;">
            <div class="dialog-header">
                <h2 class="dialog-title">ROM Information</h2>
                <button class="dialog-close" onclick="closeDialog('romInfoDialog')">×</button>
            </div>
            
            <div class="dialog-content">
                <h3>About this ROM</h3>
                <div style="margin-bottom: 16px;">
                    <div style="display: flex; justify-content: space-between; margin-bottom: 4px;">
                        <span>Year:</span>
                        <span>1991</span>
                    </div>
                    <div style="display: flex; justify-content: space-between; margin-bottom: 4px;">
                        <span>Manufacturer:</span>
                        <span>Capcom</span>
                    </div>
                </div>
                
                <h3>Technical Details</h3>
                <div style="margin-bottom: 16px;">
                    <div style="display: flex; justify-content: space-between; margin-bottom: 4px;">
                        <span>CPU:</span>
                        <span>68000 12.000000 MHz<br>Z80 4.000000 MHz</span>
                    </div>
                    <div style="display: flex; justify-content: space-between; margin-bottom: 4px;">
                        <span>Sound:</span>
                        <span>YM2151 3.579545 MHz</span>
                    </div>
                </div>
                
                <h3>Screen Details</h3>
                <div style="margin-bottom: 16px;">
                    <div style="display: flex; justify-content: space-between; margin-bottom: 4px;">
                        <span>Resolution:</span>
                        <span>384 × 224 Horizontal 60.00 Hz</span>
                    </div>
                    <div style="display: flex; justify-content: space-between; margin-bottom: 4px;">
                        <span>Colors:</span>
                        <span>4096 colors</span>
                    </div>
                </div>
                
                <h3>Audit Details</h3>
                <div style="background: var(--bg-tertiary); border: 1px solid var(--border-color); border-radius: 4px; padding: 8px;">
                    <div style="display: flex; justify-content: space-between; margin-bottom: 4px;">
                        <span>Rom check:</span>
                        <span style="color: var(--success);">Passed</span>
                    </div>
                    <div style="display: flex; justify-content: space-between;">
                        <span>Sample check:</span>
                        <span>None required</span>
                    </div>
                </div>
            </div>
            
            <div class="dialog-footer">
                <button class="button-primary" onclick="closeDialog('romInfoDialog')">❌ Close</button>
            </div>
        </div>
    </div>

    <!-- About Dialog -->
    <div class="dialog-overlay" id="aboutDialog">
        <div class="dialog" style="width: 500px;">
            <div class="dialog-header">
                <h2 class="dialog-title">About MAMEUIx</h2>
                <button class="dialog-close" onclick="closeDialog('aboutDialog')">×</button>
            </div>
            
            <div class="dialog-content" style="text-align: center;">
                <h1 style="margin-bottom: 8px;">MAMEUIx</h1>
                <p>A modern MAME frontend with enhanced features</p>
                <p style="margin-bottom: 16px;">Version: 0.1.4</p>
                <p>Built with Rust and egui</p>
                
                <div style="text-align: left; margin-top: 24px;">
                    <h3>🎮 Core Features</h3>
                    <ul style="list-style: none; padding: 0;">
                        <li>• Fast game scanning and filtering (48,000+ games)</li>
                        <li>• Enhanced search capabilities with real-time results</li>
                        <li>• Customizable UI themes (11 beautiful themes)</li>
                        <li>• Plugin support (hiscore, cheat, autofire)</li>
                        <li>• Virtual scrolling for smooth performance</li>
                    </ul>
                    
                    <h3 style="margin-top: 16px;">🔍 ROM Verification - CLRMamePro Lite</h3>
                    <ul style="list-style: none; padding: 0;">
                        <li>• Real-time verification status with progress tracking</li>
                        <li>• Color-coded game list (Green=Verified, Red=Failed, Yellow=Warning)</li>
                        <li>• Bulk actions: Find missing ROMs (No-Intro integration)</li>
                        <li>• Export reports in Text, CSV, and HTML formats</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <style>
        .property-tab {
            padding: 8px 12px;
            cursor: pointer;
            border-radius: 4px;
            margin-bottom: 4px;
            transition: all 0.2s;
        }
        
        .property-tab:hover {
            background: var(--bg-hover);
        }
        
        .property-tab.active {
            background: var(--accent-primary);
            color: white;
        }
        
        .tab-button {
            padding: 8px 16px;
            background: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            border-radius: 4px;
            color: var(--text-secondary);
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .tab-button:hover {
            background: var(--bg-hover);
            color: var(--text-primary);
        }
        
        .tab-button.active {
            background: var(--accent-primary);
            color: white;
            border-color: var(--accent-primary);
        }
    </style>

    <script>
        // View switching
        function setView(viewType) {
            document.querySelectorAll('.view-button').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            if (viewType === 'table') {
                document.getElementById('tableView').style.display = 'block';
                document.getElementById('listView').style.display = 'none';
            } else {
                document.getElementById('tableView').style.display = 'none';
                document.getElementById('listView').style.display = 'flex';
                document.getElementById('listView').style.flexDirection = 'column';
            }
        }
        
        // Info tab switching
        function switchInfoTab(tabName) {
            document.querySelectorAll('.info-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            event.target.classList.add('active');
            
            document.getElementById('artworkTab').style.display = tabName === 'artwork' ? 'block' : 'none';
            document.getElementById('historyTab').style.display = tabName === 'history' ? 'block' : 'none';
        }
        
        // Dialog management
        function showDirectories() {
            document.getElementById('directoriesDialog').style.display = 'flex';
        }
        
        function showPreferences() {
            document.getElementById('preferencesDialog').style.display = 'flex';
        }
        
        function showGameProperties() {
            document.getElementById('gamePropertiesDialog').style.display = 'flex';
        }
        
        function showRomVerify() {
            document.getElementById('romVerifyDialog').style.display = 'flex';
        }
        
        function showRomInfo() {
            document.getElementById('romInfoDialog').style.display = 'flex';
        }
        
        function showHiddenCategories() {
            document.getElementById('hiddenCategoriesDialog').style.display = 'flex';
        }
        
        function showAbout() {
            document.getElementById('aboutDialog').style.display = 'flex';
        }
        
        function closeDialog(dialogId) {
            document.getElementById(dialogId).style.display = 'none';
        }
        
        // Checkbox functionality
        document.querySelectorAll('.checkbox').forEach(checkbox => {
            checkbox.parentElement.addEventListener('click', function(e) {
                if (e.target.classList.contains('checkbox') || e.target.parentElement.classList.contains('filter-option')) {
                    checkbox.classList.toggle('checked');
                }
            });
        });
        
        // Expand/collapse functionality
        document.querySelectorAll('.expand-arrow').forEach(arrow => {
            arrow.addEventListener('click', function() {
                const row = this.closest('tr');
                const isExpanded = this.textContent === '▼';
                
                if (isExpanded) {
                    this.textContent = '▶';
                    // Hide clone rows
                    let nextRow = row.nextElementSibling;
                    while (nextRow && nextRow.classList.contains('clone')) {
                        nextRow.style.display = 'none';
                        nextRow = nextRow.nextElementSibling;
                    }
                } else {
                    this.textContent = '▼';
                    // Show clone rows
                    let nextRow = row.nextElementSibling;
                    while (nextRow && nextRow.classList.contains('clone')) {
                        nextRow.style.display = 'table-row';
                        nextRow = nextRow.nextElementSibling;
                    }
                }
            });
        });
        
        // Favorite star functionality
        document.querySelectorAll('.favorite-star').forEach(star => {
            star.addEventListener('click', function(e) {
                e.stopPropagation();
                if (this.classList.contains('checked')) {
                    this.classList.remove('checked');
                    this.textContent = '☆';
                } else {
                    this.classList.add('checked');
                    this.textContent = '★';
                }
            });
        });
        
        // Context menu
        let selectedRow = null;
        
        document.querySelectorAll('.game-table tbody tr, .game-list-item').forEach(row => {
            row.addEventListener('contextmenu', function(e) {
                e.preventDefault();
                selectedRow = this;
                
                const contextMenu = document.getElementById('contextMenu');
                contextMenu.style.display = 'block';
                contextMenu.style.left = e.pageX + 'px';
                contextMenu.style.top = e.pageY + 'px';
                
                // Update favorite menu item
                const star = this.querySelector('.favorite-star');
                const favoriteMenuItem = document.getElementById('favoriteMenuItem');
                if (star && star.classList.contains('checked')) {
                    favoriteMenuItem.textContent = '⭐ Remove from Favorites';
                } else {
                    favoriteMenuItem.textContent = '⭐ Add to Favorites';
                }
            });
            
            row.addEventListener('click', function() {
                document.querySelectorAll('.game-table tbody tr, .game-list-item').forEach(r => {
                    r.classList.remove('selected');
                });
                this.classList.add('selected');
            });
        });
        
        // Hide context menu on click outside
        document.addEventListener('click', function() {
            document.getElementById('contextMenu').style.display = 'none';
        });
        
        // Save preferences
        function savePreferences() {
            const categoryEnabled = document.getElementById('categoryCheckbox').checked;
            
            // Show/hide category column
            document.getElementById('categoryColumn').style.display = categoryEnabled ? '' : 'none';
            document.querySelectorAll('.category-cell').forEach(cell => {
                cell.style.display = categoryEnabled ? '' : 'none';
            });
            
            // Show/hide category filter
            document.getElementById('categoryFilter').style.display = categoryEnabled ? '' : 'none';
            
            closeDialog('preferencesDialog');
        }
        
        // Refresh games
        function refreshGames() {
            const gameArea = document.querySelector('.game-area');
            const loadingOverlay = gameArea.querySelector('.loading-overlay');
            loadingOverlay.style.display = 'flex';
            
            setTimeout(() => {
                loadingOverlay.style.display = 'none';
            }, 2000);
        }
        
        // FPS counter animation
        let fps = 60.0;
        setInterval(() => {
            fps = 59.5 + Math.random();
            document.querySelector('.fps-counter').textContent = fps.toFixed(1);
        }, 100);
    </script>
</body>
</html>